CREATE TABLE IF NOT EXISTS member (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(255),
    email VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS movie (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title VARCHAR(255),
    director VARCHAR(255),
    year INTEGER,
    genre VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS screening (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    movie_id BIGINT,
    dateTime TIMESTAMP,
    location VARCHAR(255),
    FOREIGN KEY (movie_id) REFERENCES movie(id)
);

CREATE TABLE IF NOT EXISTS attendance (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    screening_id BIGINT,
    member_id BIGINT,
    attended BOOLEAN,
    FOREIGN KEY (screening_id) REFERENCES screening(id),
    FOREIGN KEY (member_id) REFERENCES member(id)
);

CREATE TABLE IF NOT EXISTS review (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    member_id BIGINT,
    movie_id BIGINT,
    rating INTEGER,
    comment VARCHAR(255),
    FOREIGN KEY (member_id) REFERENCES member(id),
    FOREIGN KEY (movie_id) REFERENCES movie(id)
);

INSERT INTO movie (id, title, director, year, genre) VALUES
(1, 'Inception', 'Christopher Nolan', 2010, 'Sci-Fi'),
(2, 'Pulp Fiction', 'Quentin Tarantino', 1994, 'Crime'),
(3, 'The Matrix', 'The Wachowskis', 1999, 'Action'),
(4, 'Interstellar', 'Christopher Nolan', 2014, 'Sci-Fi'),
(5, 'The Godfather', 'Francis Ford Coppola', 1972, 'Crime');

INSERT INTO member (id, name, email) VALUES
(1, 'Ivan Ivanov', 'ivan@example.com'),
(2, 'Petro Petrenko', 'petro@example.com'),
(3, 'Olena Shevchenko', 'olena@example.com'),
(4, 'Andrii Kozak', 'andrii@example.com'),
(5, 'Natalia Bondarenko', 'natalia@example.com');

INSERT INTO screening (id, movie_id, date_time, location) VALUES
(1, 1, '2024-06-01 18:00:00', 'Main Hall'),
(2, 2, '2024-06-02 19:00:00', 'Room 101'),
(3, 3, '2024-06-03 20:00:00', 'Cinema 3'),
(4, 4, '2024-06-04 18:30:00', 'Small Hall'),
(5, 5, '2024-06-05 19:30:00', 'VIP Room');

INSERT INTO attendance (id, screening_id, member_id, attended) VALUES
(1, 1, 1, true),
(2, 2, 2, true),
(3, 3, 3, true),
(4, 4, 4, true),
(5, 5, 5, true);

INSERT INTO review (id, member_id, movie_id, rating, comment) VALUES
(1, 1, 1, 5, 'Шедевр, must-watch!'),
(2, 2, 2, 4, 'Крутий сюжет'),
(3, 3, 3, 3, 'Норм, але без вау'),
(4, 4, 4, 5, 'Фантастично, як завжди у Нолана'),
(5, 5, 5, 4, 'Класика, повага');